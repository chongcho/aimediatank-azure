(()=>{var e={};e.id=7601,e.ids=[7601],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),s(37464),s(58567),s(35866);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["media",{children:["[mediaId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,37464)),"C:\\Users\\chong\\AI Studio\\aimediatank-azure\\src\\app\\media\\[mediaId]\\edit\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58567)),"C:\\Users\\chong\\AI Studio\\aimediatank-azure\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\chong\\AI Studio\\aimediatank-azure\\src\\app\\media\\[mediaId]\\edit\\page.tsx"],m="/media/[mediaId]/edit/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/media/[mediaId]/edit/page",pathname:"/media/[mediaId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8732:(e,t,s)=>{Promise.resolve().then(s.bind(s,67201))},35047:(e,t,s)=>{"use strict";var a=s(77389);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},67201:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(10326),r=s(17577),i=s(77109),l=s(35047),n=s(90434);function o(){let{mediaId:e}=(0,l.useParams)(),{data:t,status:s}=(0,i.useSession)(),o=(0,l.useRouter)(),[d,c]=(0,r.useState)(null),[m,u]=(0,r.useState)(!0),[x,p]=(0,r.useState)(!1),[h,g]=(0,r.useState)(""),[j,f]=(0,r.useState)(""),[v,b]=(0,r.useState)(""),[y,N]=(0,r.useState)(""),[k,w]=(0,r.useState)(""),[P,S]=(0,r.useState)(""),[C,I]=(0,r.useState)(!0),M=async t=>{if(t.preventDefault(),!j.trim()){g("Title is required");return}p(!0),g("");try{let t=await fetch(`/api/media/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:j.trim(),description:v.trim()||null,aiTool:y.trim()||null,aiPrompt:k.trim()||null,price:P?parseFloat(P):null,isPublic:C})});if(t.ok)o.push(`/media/${e}`);else{let e=await t.json();g(e.error||"Failed to update media")}}catch(e){console.error("Error updating media:",e),g("Failed to update media")}finally{p(!1)}};return m||"loading"===s?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"spinner"})}):h&&!d?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-400 mb-4",children:h}),a.jsx(n.default,{href:"/",className:"btn-primary",children:"Go Home"})]})}):d?(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[a.jsx(n.default,{href:`/media/${e}`,className:"w-10 h-10 rounded-full bg-tank-gray hover:bg-tank-light flex items-center justify-center transition-colors",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Edit Media"}),a.jsx("p",{className:"text-gray-400",children:"Update your content details"})]})]}),a.jsx("div",{className:"card mb-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-32 h-20 rounded-lg overflow-hidden bg-tank-dark flex-shrink-0",children:"IMAGE"===d.type?a.jsx("img",{src:d.url,alt:d.title,className:"w-full h-full object-cover"}):d.thumbnailUrl?a.jsx("img",{src:d.thumbnailUrl,alt:d.title,className:"w-full h-full object-cover"}):"VIDEO"===d.type?a.jsx("video",{src:d.url,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("span",{className:`inline-block px-2 py-0.5 text-xs font-semibold rounded mb-2 ${"VIDEO"===d.type?"bg-red-500/20 text-red-400":"IMAGE"===d.type?"bg-blue-500/20 text-blue-400":"bg-purple-500/20 text-purple-400"}`,children:d.type}),a.jsx("p",{className:"text-sm text-gray-400 truncate",children:d.url})]})]})}),(0,a.jsxs)("form",{onSubmit:M,className:"card space-y-6",children:[h&&a.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:h}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Title ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("input",{type:"text",value:j,onChange:e=>f(e.target.value),placeholder:"Enter a title for your media",className:"w-full",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx("textarea",{value:v,onChange:e=>b(e.target.value),placeholder:"Describe your creation...",rows:4,className:"w-full resize-none"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"AI Tool Used"}),a.jsx("input",{type:"text",value:y,onChange:e=>N(e.target.value),placeholder:"e.g., Midjourney, DALL-E, Sora, Suno",className:"w-full"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"AI Prompt"}),a.jsx("textarea",{value:k,onChange:e=>w(e.target.value),placeholder:"Share the prompt you used to generate this...",rows:3,className:"w-full resize-none"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sharing your prompt helps others learn from your creations"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price (USD)"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"$"}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:P,onChange:e=>S(e.target.value),placeholder:"0.00",className:"w-full pl-8"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty or set to 0 for free content"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Visibility"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",checked:C,onChange:()=>I(!0),className:"w-4 h-4 accent-tank-accent"}),(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Public"]})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"radio",name:"visibility",checked:!C,onChange:()=>I(!1),className:"w-4 h-4 accent-tank-accent"}),(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[a.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Private"]})]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Private media is only visible to you"})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4 border-t border-tank-light",children:[a.jsx(n.default,{href:`/media/${e}`,className:"btn-secondary flex-1 text-center",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x||!j.trim(),className:"btn-primary flex-1",children:x?"Saving...":"Save Changes"})]})]})]}):null}},37464:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>i,default:()=>n});var a=s(68570);let r=(0,a.createProxy)(String.raw`C:\Users\chong\AI Studio\aimediatank-azure\src\app\media\[mediaId]\edit\page.tsx`),{__esModule:i,$$typeof:l}=r;r.default;let n=(0,a.createProxy)(String.raw`C:\Users\chong\AI Studio\aimediatank-azure\src\app\media\[mediaId]\edit\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,5559,4613],()=>s(9628));module.exports=a})();