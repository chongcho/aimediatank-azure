(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[477],{1646:function(e,s,t){Promise.resolve().then(t.bind(t,9578))},9578:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return i}});var a=t(7437),n=t(2265),r=t(998),l=t(7138);function i(){var e;let{data:s}=(0,r.useSession)(),[t,i]=(0,n.useState)(""),[d,c]=(0,n.useState)("idle"),[o,m]=(0,n.useState)(""),[x,u]=(0,n.useState)(""),h=async e=>{e.preventDefault(),c("loading"),m(""),u("");try{var a;let e=await fetch("/api/auth/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:(null==s?void 0:null===(a=s.user)||void 0===a?void 0:a.email)||t})}),n=await e.json();e.ok?(c("success"),m(n.message),n.devUrl&&u(n.devUrl)):(c("error"),m(n.error||"Failed to send verification email"))}catch(e){c("error"),m("Something went wrong")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Resend Verification"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Enter your email to receive a new verification link"})]}),(0,a.jsx)("div",{className:"card",children:"success"===d?(0,a.jsxs)("div",{className:"text-center p-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-500/20 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-green-400 mb-2",children:"Email Sent!"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:o}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Check your inbox and spam folder for the verification link."}),x&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl text-left",children:[(0,a.jsx)("p",{className:"text-yellow-400 text-sm font-semibold mb-2",children:"\uD83D\uDD27 Development Mode"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Verification link:"}),(0,a.jsx)("a",{href:x,className:"text-xs text-tank-accent break-all hover:underline",children:x})]}),(0,a.jsx)(l.default,{href:"/login",className:"btn-primary inline-block mt-4",children:"Back to Login"})]}):(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:["error"===d&&(0,a.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-xl text-red-400 text-sm",children:o}),(null==s?void 0:null===(e=s.user)||void 0===e?void 0:e.email)?(0,a.jsxs)("div",{className:"p-4 bg-tank-gray rounded-xl",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-1",children:"Sending to:"}),(0,a.jsx)("p",{className:"font-medium",children:s.user.email})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,a.jsx)("input",{type:"email",value:t,onChange:e=>i(e.target.value),placeholder:"your@email.com",className:"w-full",required:!0})]}),(0,a.jsx)("button",{type:"submit",disabled:"loading"===d,className:"btn-primary w-full",children:"loading"===d?"Sending...":"Send Verification Email"}),(0,a.jsxs)("p",{className:"text-center text-sm text-gray-400",children:["Remember your password?"," ",(0,a.jsx)(l.default,{href:"/login",className:"text-tank-accent hover:underline",children:"Sign in"})]})]})})]})})}}},function(e){e.O(0,[998,138,971,23,744],function(){return e(e.s=1646)}),_N_E=e.O()}]);