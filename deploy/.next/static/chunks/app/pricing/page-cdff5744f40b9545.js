(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[979],{7059:function(e,t,r){Promise.resolve().then(r.bind(r,6320))},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6320:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(7437),a=r(2265),n=r(998),l=r(6463);let c=[{id:"basic",name:"Basic Plan",price:2,yearlyPrice:20,period:"month",description:"Suit for occasional creators",uploadCost:"$1 per upload",features:["View contents","Buy contents","Sell contents","$1 per upload fee"],buttonText:"Buy Plan"},{id:"advanced",name:"Advanced Plan",price:5,yearlyPrice:50,period:"month",description:"Suit for moderate creators",uploadCost:"$0.5 per upload",features:["View contents","Buy contents","Sell contents","$0.5 per upload fee"],buttonText:"Buy Plan"},{id:"premium",name:"Premium Plan",price:8,yearlyPrice:80,period:"month",description:"Suit for scale creators",uploadCost:"Free upload",features:["View contents","Buy contents","Sell contents","Unlimited free uploads"],buttonText:"Buy Plan"}];function o(){let{data:e}=(0,n.useSession)(),t=(0,l.useRouter)(),[r,o]=(0,a.useState)(null),[i,d]=(0,a.useState)("VIEWER"),[x,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!1),[p,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{(null==e?void 0:e.user)&&y()},[e]);let y=async()=>{try{var e;let t=await fetch("/api/user/profile"),r=await t.json();(null===(e=r.user)||void 0===e?void 0:e.membershipType)&&d(r.user.membershipType)}catch(e){console.error("Error fetching membership:",e)}},j=async r=>{if(!e){t.push("/login");return}if("viewer"!==r){o(r);try{let e=await fetch("/api/stripe/membership",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planId:r})}),t=await e.json();t.url?window.location.href=t.url:alert(t.error||"Failed to start checkout")}catch(e){console.error("Error:",e),alert("Failed to start checkout")}finally{o(null)}}},g=async()=>{m(!0);try{let e=await fetch("/api/stripe/portal",{method:"POST"}),t=await e.json();t.url?window.location.href=t.url:t.showManualOptions?u(!0):alert(t.error||"Failed to open billing portal")}catch(e){console.error("Error:",e),alert("Failed to open billing portal")}finally{m(!1)}},N=async e=>{b(e);try{let t=await fetch("/api/stripe/portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,sendEmail:!0})}),r=await t.json();r.success?(u(!1),y(),alert(r.message)):alert(r.error||"Failed to update subscription")}catch(e){console.error("Error:",e),alert("Failed to update subscription")}finally{b(null)}},f=e=>i.toLowerCase()===e.toLowerCase(),k="VIEWER"!==i;return(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,s.jsxs)("div",{className:"text-center mb-12",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Choose Your Plan"}),(0,s.jsx)("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto",children:"Whether you're here to explore or create, we have a plan that fits your needs. Upgrade anytime to unlock more features."})]}),e&&(0,s.jsx)("div",{className:"mb-8 p-4 bg-tank-accent/10 border border-tank-accent/30 rounded-xl",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,s.jsxs)("p",{className:"text-tank-accent",children:["Your current plan: ",(0,s.jsx)("span",{className:"font-bold",children:i})]}),k&&(0,s.jsx)("button",{onClick:g,disabled:x,className:"px-4 py-2 bg-tank-gray border border-tank-light rounded-lg hover:bg-tank-light transition-colors text-sm flex items-center gap-2",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-current/30 border-t-current rounded-full animate-spin"}),"Loading..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Cancel Subscription"]})})]})}),(0,s.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:c.map(e=>(0,s.jsx)("div",{className:"relative bg-tank-gray rounded-2xl border border-tank-light hover:border-tank-accent/50 transition-all",children:(0,s.jsxs)("div",{className:"p-8 text-center",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold mb-2",children:e.name}),(0,s.jsx)("p",{className:"text-gray-400 text-sm italic mb-6",children:e.description}),(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsxs)("span",{className:"text-4xl font-bold",children:["$",e.price]}),(0,s.jsx)("span",{className:"text-gray-400",children:"/month"})]}),(0,s.jsxs)("p",{className:"text-gray-500 text-sm mb-4",children:["or $",e.yearlyPrice,"/year"]}),(0,s.jsx)("div",{className:"mb-6 py-3 border-t border-b border-tank-light",children:(0,s.jsx)("span",{className:"text-lg font-semibold ".concat("premium"===e.id?"text-tank-accent":"text-white"),children:e.uploadCost})}),(0,s.jsxs)("div",{className:"space-y-2 mb-8",children:[(0,s.jsx)("p",{className:"text-gray-300",children:"View contents"}),(0,s.jsx)("p",{className:"text-gray-300",children:"Buy contents"})]}),(0,s.jsx)("button",{onClick:()=>j(e.id),disabled:null!==r||f(e.id),className:"w-full py-3 rounded-xl font-semibold transition-all ".concat(f(e.id)?"bg-gradient-to-r from-tank-accent/20 to-emerald-500/20 text-tank-accent border-2 border-tank-accent cursor-not-allowed":"bg-tank-gray border-2 border-tank-light text-white hover:bg-tank-light hover:border-tank-accent/50"),children:r===e.id?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-current/30 border-t-current rounded-full animate-spin"}),"Processing..."]}):f(e.id)?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Current Plan"]}):"Buy Plan"})]})},e.id))}),(0,s.jsxs)("div",{className:"mt-16",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:"Plan Comparison"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full max-w-3xl mx-auto",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-tank-light",children:[(0,s.jsx)("th",{className:"text-left py-4 px-4 font-semibold",children:"Feature"}),(0,s.jsx)("th",{className:"text-center py-4 px-4 font-semibold",children:"Basic"}),(0,s.jsx)("th",{className:"text-center py-4 px-4 font-semibold",children:"Advanced"}),(0,s.jsx)("th",{className:"text-center py-4 px-4 font-semibold text-tank-accent",children:"Premium"})]})}),(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{className:"border-b border-tank-light/50",children:[(0,s.jsx)("td",{className:"py-4 px-4 text-gray-300",children:"Monthly Price"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$2/month"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$5/month"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$8/month"})]}),(0,s.jsxs)("tr",{className:"border-b border-tank-light/50",children:[(0,s.jsx)("td",{className:"py-4 px-4 text-gray-300",children:"Yearly Price"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$20/year"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$50/year"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$80/year"})]}),(0,s.jsxs)("tr",{className:"border-b border-tank-light/50",children:[(0,s.jsx)("td",{className:"py-4 px-4 text-gray-300",children:"Upload Cost"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$1 per upload"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center",children:"$0.5 per upload"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"Free"})]}),(0,s.jsxs)("tr",{className:"border-b border-tank-light/50",children:[(0,s.jsx)("td",{className:"py-4 px-4 text-gray-300",children:"View Contents"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"})]}),(0,s.jsxs)("tr",{className:"border-b border-tank-light/50",children:[(0,s.jsx)("td",{className:"py-4 px-4 text-gray-300",children:"Buy Contents"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"})]}),(0,s.jsxs)("tr",{className:"border-b border-tank-light/50",children:[(0,s.jsx)("td",{className:"py-4 px-4 text-gray-300",children:"Sell Contents"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"}),(0,s.jsx)("td",{className:"py-4 px-4 text-center text-tank-accent",children:"✓"})]})]})]})})]}),(0,s.jsxs)("div",{className:"mt-16",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:"Frequently Asked Questions"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-tank-gray rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Can I cancel anytime?"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Yes, you can cancel your subscription at any time. Your benefits will continue until the end of your billing period."})]}),(0,s.jsxs)("div",{className:"bg-tank-gray rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"What payment methods do you accept?"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"We accept all major credit cards and debit cards through our secure Stripe payment system."})]}),(0,s.jsxs)("div",{className:"bg-tank-gray rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"What happens to my uploads if I cancel?"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Your existing uploads will remain on the platform. However, you won't be able to upload new content until you resubscribe."})]}),(0,s.jsxs)("div",{className:"bg-tank-gray rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"font-semibold mb-2",children:"Can I upgrade or downgrade?"}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:'Yes, you can change your plan at any time using the "Change / Cancel Subscription" button above.'})]})]})]}),h&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-tank-dark border border-tank-light rounded-2xl max-w-md w-full p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h3",{className:"text-xl font-bold",children:"Manage Subscription"}),(0,s.jsx)("button",{onClick:()=>u(!1),className:"p-2 hover:bg-tank-light rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("p",{className:"text-gray-400 mb-6",children:["Your current plan: ",(0,s.jsx)("span",{className:"text-tank-accent font-bold",children:i})]}),(0,s.jsxs)("div",{className:"space-y-3",children:["PREMIUM"===i&&(0,s.jsx)("button",{onClick:()=>N("downgrade"),disabled:null!==p,className:"w-full py-3 px-4 bg-yellow-500/20 text-yellow-400 rounded-xl hover:bg-yellow-500/30 transition-colors flex items-center justify-center gap-2",children:"downgrade"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-current/30 border-t-current rounded-full animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),"Downgrade to Basic ($5/month)"]})}),(0,s.jsx)("button",{onClick:()=>N("cancel"),disabled:null!==p,className:"w-full py-3 px-4 bg-red-500/20 text-red-400 rounded-xl hover:bg-red-500/30 transition-colors flex items-center justify-center gap-2",children:"cancel"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-current/30 border-t-current rounded-full animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel Subscription"]})}),(0,s.jsx)("button",{onClick:()=>u(!1),className:"w-full py-3 px-4 bg-tank-gray text-gray-400 rounded-xl hover:bg-tank-light transition-colors",children:"Keep Subscription"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-4 text-center",children:"Changes take effect immediately. Your existing uploads will not be affected."})]})})]})}}},function(e){e.O(0,[998,971,23,744],function(){return e(e.s=7059)}),_N_E=e.O()}]);